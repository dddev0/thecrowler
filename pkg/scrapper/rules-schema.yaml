# TheCROWler scrapping and actions rules YAML Schema (draft)
type: array
items:
  type: object
  properties:
    site:
      type: string
    rule_groups:
      type: array
      items:
        type: object
        properties:
          group_name:
            type: string
          valid_from:
            type: string
            format: date-time
          valid_to:
            type: string
            format: date-time
          is_enabled:
            type: boolean
          scraping_rules:  # key to express scrapping rules for the page
            type: array
            items:
              type: object
              properties:
                path:
                  type: string
                elements:
                  type: object
                  properties:
                    title:
                      type: string
                    content:
                      type: string
                    date:
                      type: string
                    # Add more element properties as needed
                js_files:
                  type: boolean
                technology_patterns:
                  type: array
                  items:
                    type: string
                    # add validation for technology pattern format
          action_rules:  # key to express actions to be performed on the page
            type: array
            items:
              type: object
              properties:
                path:
                  type: string
                elements:
                  type: object
                  properties:
                    action_name:
                      type: string
                    action_type:
                      type: string
                      enum:
                        - "click"
                        - "input_text"
                        - "submit_form"
                        # Add more action types as needed
                    action_value:
                      type: string
                    # Add more action properties as needed
        required:
          - group_name
          - valid_from
          - valid_to
          - is_enabled
          - scraping_rules
    # Add more properties for site-level information as needed
required:
  - site
  - rule_groups
